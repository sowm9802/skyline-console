(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1784:function(e,t,a){"use strict";var r=a(20),n=a(22);r(t,"__esModule",{value:!0}),t.default=t.NeutronAgentStore=void 0;var i=n(a(60)),l=n(a(66));class u extends l.default{get client(){return i.default.neutron.agents}get listFilterByProject(){return!0}}t.NeutronAgentStore=u;var s=new u;t.default=s},1849:function(e,t,a){"use strict";var r=a(43),n=a(54),i=a(39),l=a(29),u=a(33),s=a(55),o=a(56),d=a(20),c=a(22);d(t,"__esModule",{value:!0}),t.default=t.ServiceStore=void 0;var f,v=c(a(71)),p=c(a(29)),m=c(a(42)),g=c(a(67)),h=a(41),b=c(a(60)),y=c(a(66));function _(e,t){var a=r(e);if(n){var u=n(e);t&&(u=i(u).call(u,(function(t){return l(e,t).enumerable}))),a.push.apply(a,u)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a,r,n=null!=arguments[t]?arguments[t]:{};t%2?u(a=_(Object(n),!0)).call(a,(function(t){(0,m.default)(e,t,n[t])})):s?o(e,s(n)):u(r=_(Object(n))).call(r,(function(t){d(e,t,l(n,t))}))}return e}var x=new(t.ServiceStore=(f=class extends y.default{get client(){return b.default.cinder.services}enable(e){return this.submitting(this.client.enable(e))}disable(e){return this.submitting(this.client.reason(e))}listDidFetch(e){return e.length?(0,v.default)(e).call(e,((e,t)=>S(S({},e),{},{id:t}))):e}},(0,g.default)(f.prototype,"enable",[h.action],(0,p.default)(f.prototype,"enable"),f.prototype),(0,g.default)(f.prototype,"disable",[h.action],(0,p.default)(f.prototype,"disable"),f.prototype),f));t.default=x},1850:function(e,t,a){"use strict";var r=a(43),n=a(54),i=a(39),l=a(29),u=a(33),s=a(55),o=a(56),d=a(20),c=a(22);d(t,"__esModule",{value:!0}),t.default=t.NeutronAgentRouterStore=void 0;var f,v,p,m=c(a(71)),g=c(a(88)),h=c(a(61)),b=c(a(89)),y=c(a(42)),_=c(a(67)),S=(c(a(90)),c(a(112))),x=a(41),I=c(a(60)),w=c(a(66));function C(e,t){var a=r(e);if(n){var u=n(e);t&&(u=i(u).call(u,(function(t){return l(e,t).enumerable}))),a.push.apply(a,u)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a,r,n=null!=arguments[t]?arguments[t]:{};t%2?u(a=C(Object(n),!0)).call(a,(function(t){(0,y.default)(e,t,n[t])})):s?o(e,s(n)):u(r=C(Object(n))).call(r,(function(t){d(e,t,l(n,t))}))}return e}var A=t.NeutronAgentRouterStore=(f=class extends w.default{constructor(){super(...arguments),(0,y.default)(this,"getFatherResourceId",(e=>e.agentId)),(0,b.default)(this,"remove",v,this),(0,b.default)(this,"add",p,this)}get client(){return I.default.neutron.agents.l3Routers}get listFilterByProject(){return!0}get isSubResource(){return!0}get mapper(){return e=>{var{external_gateway_info:t,created_at:a}=e||{};return N(N({},e),{},{hasExternalGateway:!!t,externalNetworkId:t&&t.network_id||"",externalNetworkName:t&&t.network_name||"",externalFixedIps:t&&t.external_fixed_ips||[],standard_attr_id:a})}}listDidFetch(e,t,a){return(0,h.default)((function*(){var{agentId:t}=a;return(0,m.default)(e).call(e,(e=>N(N({},e),{},{agentId:t})))}))()}},v=(0,_.default)(f.prototype,"remove",[x.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{var{agentId:t,id:a}=e;return this.submitting(this.client.delete(t,a))}}}),p=(0,_.default)(f.prototype,"add",[x.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var{agentId:a}=e;if(!(0,S.default)(t))return this.submitting(this.client.create(a,t));var r=(0,m.default)(t).call(t,(e=>this.client.create(a,e)));return this.submitting(g.default.allSettled(r))}}}),f),k=new A;t.default=k},1851:function(e,t,a){"use strict";var r=a(43),n=a(54),i=a(39),l=a(29),u=a(33),s=a(55),o=a(56),d=a(20),c=a(22);d(t,"__esModule",{value:!0}),t.default=t.NeutronAgentNetworkStore=void 0;var f,v,p,m=c(a(71)),g=c(a(88)),h=c(a(61)),b=c(a(89)),y=c(a(42)),_=c(a(67)),S=(c(a(90)),c(a(112))),x=a(41),I=c(a(60)),w=c(a(66));function C(e,t){var a=r(e);if(n){var u=n(e);t&&(u=i(u).call(u,(function(t){return l(e,t).enumerable}))),a.push.apply(a,u)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a,r,n=null!=arguments[t]?arguments[t]:{};t%2?u(a=C(Object(n),!0)).call(a,(function(t){(0,y.default)(e,t,n[t])})):s?o(e,s(n)):u(r=C(Object(n))).call(r,(function(t){d(e,t,l(n,t))}))}return e}var A=t.NeutronAgentNetworkStore=(f=class extends w.default{constructor(){super(...arguments),(0,y.default)(this,"getFatherResourceId",(e=>e.agentId)),(0,b.default)(this,"remove",v,this),(0,b.default)(this,"add",p,this)}get client(){return I.default.neutron.agents.dhcpNetworks}get isSubResource(){return!0}get listFilterByProject(){return!0}get mapper(){return e=>{var{created_at:t}=e;return N(N({},e),{},{standard_attr_id:t})}}listDidFetch(e,t,a){return(0,h.default)((function*(){var{agentId:t}=a;return(0,m.default)(e).call(e,(e=>N(N({},e),{},{agentId:t})))}))()}},v=(0,_.default)(f.prototype,"remove",[x.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{var{agentId:t,id:a}=e;return this.submitting(this.client.delete(t,a))}}}),p=(0,_.default)(f.prototype,"add",[x.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var{agentId:a}=e;if(!(0,S.default)(t))return this.submitting(this.client.create(a,t));var r=(0,m.default)(t).call(t,(e=>this.client.create(a,e)));return this.submitting(g.default.allSettled(r))}}}),f),k=new A;t.default=k},2028:function(e,t,a){"use strict";var r=a(20),n=a(22);r(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(4537)),l=n(a(4538)),u={rowActions:{firstAction:null,moreActions:[{action:i.default},{action:l.default}]},batchActions:[],primaryActions:[]};t.default=u},2029:function(e,t,a){"use strict";var r=a(20),n=a(22);r(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(4558)),l=n(a(4559)),u=n(a(4560)),s=n(a(4561)),o={rowActions:{firstAction:u.default,moreActions:[{action:s.default},{action:l.default}]},batchActions:[l.default],primaryActions:[i.default]};t.default=o},4524:function(e,t,a){"use strict";var r=a(20),n=a(22);r(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(490)),l=n(a(4525));t.default=e=>(0,i.default)(l.default,e)},4525:function(e,t,a){"use strict";var r=a(20),n=a(22);r(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1645)),l=n(a(722)),u=n(a(4526)),s=n(a(4541)),o=n(a(4547)),d=n(a(4557)),c=n(a(4562)),f="/configuration-admin";t.default=[{path:f,component:i.default,routes:[{path:"".concat(f,"/info"),component:u.default,exact:!0},{path:"".concat(f,"/neutron/detail/:id"),component:o.default,exact:!0},{path:"".concat(f,"/setting"),component:s.default,exact:!0},{path:"".concat(f,"/metadata"),component:d.default,exact:!0},{path:"".concat(f,"/metadata/detail/:id"),component:c.default,exact:!0},{path:"*",component:l.default}]}]},4526:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.Service=void 0;var l=r(485),u=i(r(1667)),s=i(r(4527)),o=i(r(4528)),d=i(r(4532)),c=i(r(4536)),f=i(r(4539));class v extends u.default{get enableCinder(){return this.props.rootStore.checkEndpoint("cinder")}get enableHeat(){return this.props.rootStore.checkEndpoint("heat")}get tabs(){var e=[{title:t("Services"),key:"catalog",component:s.default},{title:t("Compute Services"),key:"computeServices",component:o.default},{title:t("Neutron Agents"),key:"neutronAgent",component:c.default}];return this.enableCinder&&e.push({title:t("Block Storage Services"),key:"cinderService",component:d.default}),this.enableHeat&&e.push({title:t("Orchestration Services"),key:"heatService",component:f.default}),e}}a.Service=v;a.default=(0,l.inject)("rootStore")((0,l.observer)(v))},4527:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.Catalog=void 0;var l=i(r(71)),u=i(r(93)),s=i(r(42)),o=i(r(0)),d=r(485),c=i(r(1626)),f=r(202),v=i(r(1934));class p extends c.default{constructor(){super(...arguments),(0,s.default)(this,"getColumns",(()=>[{title:t("Name"),dataIndex:"name",width:150},{title:t("Service"),dataIndex:"type",isHideable:!0,width:150},{title:t("Region"),dataIndex:"region",isHideable:!0,width:150,render:e=>e||"-"},{title:t("Endpoints"),dataIndex:"endpoints",isHideable:!0,render:e=>e.length?(0,l.default)(e).call(e,(e=>o.default.createElement("div",{key:"endpoint-".concat((0,f.generateId)())},o.default.createElement("b",null,e.interface,": "),o.default.createElement("span",null,e.url)))):"-",stringify:e=>e.length?(0,l.default)(e).call(e,(e=>{var t;return(0,u.default)(t="".concat(e.interface,": ")).call(t,e.url)})).join("\n"):"-"}]))}init(){this.store=v.default}get policy(){return"identity:get_auth_catalog"}get name(){return t("services")}get hasTab(){return!0}get searchFilters(){return[]}}a.Catalog=p;a.default=(0,d.inject)("rootStore")((0,d.observer)(p))},4528:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.ComputeService=void 0;var l=i(r(93)),u=i(r(42)),s=r(485),o=i(r(1626)),d=r(1674),c=r(730),f=r(202),v=i(r(4529));class p extends o.default{constructor(){super(...arguments),(0,u.default)(this,"getColumns",(()=>[{title:t("Name"),dataIndex:"binary"},{title:t("Host"),dataIndex:"host",isHideable:!0},{title:t("Availability Zone"),dataIndex:"zone",isHideable:!0},{title:t("Service Status"),dataIndex:"status",valueMap:d.serviceStatus,tip:(e,a)=>{var r,{disabled_reason:n}=a||{};return n?(0,l.default)(r="".concat(t("Reason: ")," ")).call(r,n):""}},{title:t("Service State"),dataIndex:"state",valueMap:d.serviceState},{title:t("Last Updated"),dataIndex:"updated_at",isHideable:!0,valueRender:"sinceTime"}]))}init(){this.store=new c.ComputeHostStore}get policy(){return"os_compute_api:os-services:list"}get name(){return t("compute services")}get hasTab(){return!0}get actionConfigs(){return v.default}get fetchDataByAllProjects(){return!1}get searchFilters(){return[{label:t("Name"),name:"binary"},{label:t("Service Status"),name:"status",options:(0,f.getOptions)(d.serviceStatus)},{label:t("Service State"),name:"state",options:(0,f.getOptions)(d.serviceState)}]}}a.ComputeService=p;a.default=(0,s.inject)("rootStore")((0,s.observer)(p))},4529:function(e,t,a){"use strict";var r=a(20),n=a(22);r(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(4530)),l=n(a(4531)),u={rowActions:{moreActions:[{action:i.default},{action:l.default}]},batchActions:[],primaryActions:[]};t.default=u},4530:function(e,a,r){"use strict";var n=r(43),i=r(54),l=r(39),u=r(29),s=r(33),o=r(55),d=r(56),c=r(20),f=r(22);c(a,"__esModule",{value:!0}),a.default=a.DisableAction=void 0;var v=f(r(1636)),p=f(r(88)),m=f(r(42)),g=r(485),h=f(r(730)),b=r(1625);function y(e,t){var a=n(e);if(i){var r=i(e);t&&(r=l(r).call(r,(function(t){return u(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a,r,n=null!=arguments[t]?arguments[t]:{};t%2?s(a=y(Object(n),!0)).call(a,(function(t){(0,m.default)(e,t,n[t])})):o?d(e,o(n)):s(r=y(Object(n))).call(r,(function(t){c(e,t,u(n,t))}))}return e}class S extends b.ModalAction{constructor(){super(...arguments),(0,m.default)(this,"onSubmit",(e=>{var{binary:t,id:a}=this.item,r=_(_({},e),{},{binary:t,id:a});return h.default.disable(r)}))}init(){this.store=h.default}get name(){return t("disable compute service")}get instanceName(){return this.item.binary||(0,v.default)(this).binary}get defaultValue(){var{host:e,binary:t}=this.item;return{host:e,binary:t}}get formItems(){return[{name:"binary",label:t("Compute Service"),type:"label",iconType:"instance"},{name:"host",label:t("Current Host"),type:"label",iconType:"host"},{name:"disabled_reason",label:t("Reason"),type:"textarea",maxLength:64}]}}a.DisableAction=S,(0,m.default)(S,"id","disable-host"),(0,m.default)(S,"title",t("Disable Compute Service")),(0,m.default)(S,"buttonText",t("Disable")),(0,m.default)(S,"isDanger",!0),(0,m.default)(S,"allowed",(e=>p.default.resolve("enabled"===e.status&&"nova-compute"===e.binary))),(0,m.default)(S,"policy","os_compute_api:os-services:update");a.default=(0,g.inject)("rootStore")((0,g.observer)(S))},4531:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=void 0;var l=i(r(42)),u=r(1625),s=i(r(730));class o extends u.ConfirmAction{constructor(){super(...arguments),(0,l.default)(this,"getItemName",(e=>e.host)),(0,l.default)(this,"policy","os_compute_api:os-services:update"),(0,l.default)(this,"allowedCheckFunc",(e=>!e||"disabled"===e.status)),(0,l.default)(this,"onSubmit",(()=>{var{id:e}=this.item;return s.default.enable({id:e})}))}get id(){return"enable-service"}get title(){return t("Enable Compute Service")}get buttonText(){return t("Enable")}get actionName(){return t("enable compute service")}}a.default=o},4532:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.CinderService=void 0;var l=i(r(93)),u=i(r(42)),s=r(485),o=i(r(1626)),d=r(1674),c=i(r(1849)),f=r(202),v=i(r(4533));class p extends o.default{constructor(){super(...arguments),(0,u.default)(this,"getColumns",(()=>[{title:t("Name"),dataIndex:"binary"},{title:t("Host"),dataIndex:"host",isHideable:!0},{title:t("Availability Zone"),dataIndex:"zone",isHideable:!0},{title:t("Service Status"),dataIndex:"status",valueMap:d.serviceStatus,tip:(e,a)=>{if("enabled"===e)return"";var r,{disabled_reason:n}=a||{};return n?(0,l.default)(r="".concat(t("Reason: ")," ")).call(r,n):""}},{title:t("Service State"),dataIndex:"state",valueMap:d.serviceState},{title:t("Last Updated"),dataIndex:"updated_at",isHideable:!0,valueRender:"sinceTime"}]))}init(){this.store=c.default}get policy(){return"volume_extension:services:index"}get name(){return t("cinder services")}get hasTab(){return!0}get actionConfigs(){return v.default}get searchFilters(){return[{label:t("Name"),name:"binary"},{label:t("Service Status"),name:"status",options:(0,f.getOptions)(d.serviceStatus)},{label:t("Service State"),name:"state",options:(0,f.getOptions)(d.serviceState)}]}}a.CinderService=p;a.default=(0,s.inject)("rootStore")((0,s.observer)(p))},4533:function(e,t,a){"use strict";var r=a(20),n=a(22);r(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(4534)),l=n(a(4535)),u={rowActions:{firstAction:null,moreActions:[{action:i.default},{action:l.default}]},batchActions:[],primaryActions:[]};t.default=u},4534:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=void 0;var l=i(r(42)),u=r(1625),s=i(r(1849));class o extends u.ConfirmAction{constructor(){super(...arguments),(0,l.default)(this,"getItemName",(e=>e.binary)),(0,l.default)(this,"policy","volume_extension:services:update"),(0,l.default)(this,"allowedCheckFunc",(e=>!e||this.canEnable(e))),(0,l.default)(this,"onSubmit",(e=>{var{host:t,binary:a}=e||this.item,r={host:t,binary:a};return s.default.enable(r)}))}get id(){return"enable"}get title(){return t("Enable Service")}get buttonText(){return t("Enable")}get actionName(){return t("enable cinder service")}canEnable(e){return"disabled"===e.status}}a.default=o},4535:function(e,a,r){"use strict";var n=r(43),i=r(54),l=r(39),u=r(29),s=r(33),o=r(55),d=r(56),c=r(20),f=r(22);c(a,"__esModule",{value:!0}),a.default=a.DisableAction=void 0;var v=f(r(1636)),p=f(r(88)),m=f(r(42)),g=r(485),h=f(r(1849)),b=r(1625);function y(e,t){var a=n(e);if(i){var r=i(e);t&&(r=l(r).call(r,(function(t){return u(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a,r,n=null!=arguments[t]?arguments[t]:{};t%2?s(a=y(Object(n),!0)).call(a,(function(t){(0,m.default)(e,t,n[t])})):o?d(e,o(n)):s(r=y(Object(n))).call(r,(function(t){c(e,t,u(n,t))}))}return e}class S extends b.ModalAction{constructor(){super(...arguments),(0,m.default)(this,"onSubmit",(e=>{var{binary:t,host:a}=this.item,r=_(_({},e),{},{binary:t,host:a});return h.default.disable(r)}))}init(){this.store=h.default}get name(){return t("disable cinder service")}get instanceName(){return this.item.binary||(0,v.default)(this).binary}get defaultValue(){var{host:e,binary:t}=this.item;return{host:e,binary:t}}get formItems(){return[{name:"binary",label:t("Cinder Service"),type:"label",iconType:"volume"},{name:"host",label:t("Host"),type:"label",iconType:"host"},{name:"disabled_reason",label:t("Reason"),type:"textarea",required:!0,maxLength:200}]}}a.DisableAction=S,(0,m.default)(S,"id","disable-service"),(0,m.default)(S,"title",t("Disable Cinder Service")),(0,m.default)(S,"buttonText",t("Disable")),(0,m.default)(S,"isDanger",!0),(0,m.default)(S,"allowed",(e=>p.default.resolve("enabled"===e.status))),(0,m.default)(S,"policy","volume_extension:services:update");a.default=(0,g.inject)("rootStore")((0,g.observer)(S))},4536:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.NeutronAgent=void 0;var l=i(r(71)),u=i(r(42)),s=r(485),o=i(r(1626)),d=r(1674),c=i(r(1784)),f=i(r(2028));class v extends o.default{constructor(){super(...arguments),(0,u.default)(this,"getColumns",(()=>[{title:t("ID/Name"),dataIndex:"binary",isLink:!0,routeName:"neutronAgentDetailAdmin"},{title:t("Type"),dataIndex:"agent_type",isHideable:!0},{title:t("Host"),dataIndex:"host",isHideable:!0},{title:t("Availability Zone"),dataIndex:"availability_zone",render:e=>e||"-"},{title:t("Service Status"),dataIndex:"admin_state_up",render:e=>(0,d.getNeutronAgentServiceStatus)(e)||"-"},{title:t("Service State"),dataIndex:"alive",render:e=>(0,d.getNeutronAgentServiceState)(e)||"-",isStatus:!0},{title:t("Last Updated"),dataIndex:"heartbeat_timestamp",isHideable:!0,valueRender:"sinceTime"}]))}init(){this.store=c.default}get policy(){return"get_agent"}get name(){return t("neutron agents")}get hasTab(){return!0}get actionConfigs(){return f.default}get searchFilters(){var e,a;return[{label:t("Name"),name:"binary"},{label:t("Service Status"),name:"admin_state_up",options:(0,l.default)(e=[!0,!1]).call(e,(e=>({label:(0,d.getNeutronAgentServiceStatus)(e),key:e})))},{label:t("Service State"),name:"alive",options:(0,l.default)(a=[!0,!1]).call(a,(e=>({label:(0,d.getNeutronAgentServiceState)(e),key:e})))}]}}a.NeutronAgent=v;a.default=(0,s.inject)("rootStore")((0,s.observer)(v))},4537:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=void 0;var l=i(r(42)),u=r(1625),s=i(r(1784));class o extends u.ConfirmAction{constructor(){super(...arguments),(0,l.default)(this,"getItemName",(e=>e.binary)),(0,l.default)(this,"policy","update_agent"),(0,l.default)(this,"allowedCheckFunc",(e=>!e||this.canEnable(e))),(0,l.default)(this,"onSubmit",(e=>{var{id:t}=e||this.item;return s.default.edit({id:t},{admin_state_up:!0})}))}get id(){return"enable"}get title(){return t("Enable Neutron Agent")}get buttonText(){return t("Enable")}get actionName(){return t("enable neutron agent")}canEnable(e){return!1===e.admin_state_up}}a.default=o},4538:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=void 0;var l=i(r(42)),u=r(1625),s=i(r(1784));class o extends u.ConfirmAction{constructor(){super(...arguments),(0,l.default)(this,"getItemName",(e=>e.binary)),(0,l.default)(this,"policy","update_agent"),(0,l.default)(this,"allowedCheckFunc",(e=>!e||this.canDisable(e))),(0,l.default)(this,"onSubmit",(e=>{var{id:t}=e||this.item;return s.default.edit({id:t},{admin_state_up:!1})}))}get id(){return"disable"}get title(){return t("Disable Neutron Agent")}get isDanger(){return!0}get buttonText(){return t("Disable")}get actionName(){return t("disable neutron agent")}canDisable(e){return!0===e.admin_state_up}}a.default=o},4539:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.HeatService=void 0;var l=i(r(42)),u=r(485),s=i(r(1626)),o=r(1674),d=r(202),c=i(r(4540));class f extends s.default{constructor(){super(...arguments),(0,l.default)(this,"getColumns",(()=>[{title:t("Name"),dataIndex:"binary"},{title:t("Engine ID"),dataIndex:"engine_id",isHideable:!0},{title:t("Host"),dataIndex:"host",isHideable:!0},{title:t("Status"),dataIndex:"status",valueMap:o.serviceState},{title:t("Last Updated"),dataIndex:"updated_at",isHideable:!0,valueRender:"sinceTime"}]))}init(){this.store=c.default}get policy(){return"service:index"}get aliasPolicy(){return"heat:service:index"}get name(){return t("heat services")}get hasTab(){return!0}get searchFilters(){return[{label:t("Name"),name:"binary"},{label:t("Status"),name:"status",options:(0,d.getOptions)(o.serviceState)}]}}a.HeatService=f;a.default=(0,u.inject)("rootStore")((0,u.observer)(f))},4540:function(e,t,a){"use strict";var r=a(20),n=a(22);r(t,"__esModule",{value:!0}),t.default=t.HeatServiceStore=void 0;var i=n(a(60)),l=n(a(66));class u extends l.default{get client(){return i.default.heat.services}}t.HeatServiceStore=u;var s=new u;t.default=s},4541:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.Setting=void 0;var l=i(r(116)),u=i(r(203)),s=r(485),o=i(r(1626)),d=i(r(1707)),c=r(1635),f=r(4542),v=i(r(4543));class p extends o.default{init(){this.store=d.default}get policy(){return c.onlyAdminCanReadPolicy}get name(){return t("settings")}get rowKey(){return"key"}get hideCustom(){return!0}get actionConfigs(){return v.default}getDesc(e){var{key:t}=e;return f.SETTING_DESC[t]||"-"}get modeOptions(){return[{key:!1,label:t("Immediate effect")},{key:!0,label:t("Take effect after restart")}]}getColumns(){return[{title:t("Parameter"),dataIndex:"key"},{title:t("Effective Mode"),dataIndex:"restart_service",titleTip:t("Effective mode after configuration changes"),render:e=>{var t,a=(0,l.default)(t=this.modeOptions).call(t,(t=>t.key===e));return(null==a?void 0:a.label)||"-"}},{title:t("Description"),dataIndex:"description",render:(e,t)=>this.getDesc(t)}]}get searchFilters(){return[{name:"key",label:t("Parameter")},{name:"restart_service",label:t("Effective Mode"),options:this.modeOptions},{name:"description",label:t("Description"),filterFunc:(e,t,a)=>{var r=this.getDesc(a).toLowerCase();return(0,u.default)(r).call(r,t.toLowerCase())}}]}}a.Setting=p;a.default=(0,s.inject)("rootStore")((0,s.observer)(p))},4542:function(e,a,r){"use strict";r(20)(a,"__esModule",{value:!0}),a.SETTING_DESC=void 0;a.SETTING_DESC={flavor_families:t("Flavor families, used to configure the instance flavor classification"),gpu_models:t("GPU model, used when configuring Compute Optimized Type with GPU"),usb_models:t("USB model, used when configuring instance flavor")}},4543:function(e,t,a){"use strict";var r=a(20),n=a(22);r(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(4544)),l=n(a(4545)),u=n(a(4546)),s={rowActions:{firstAction:i.default,moreActions:[{action:l.default},{action:u.default}]},batchActions:[u.default],primaryActions:[]};t.default=s},4544:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.View=void 0;var l=i(r(88)),u=i(r(42)),s=i(r(0)),o=r(1625),d=r(485),c=r(1635),f=i(r(1750));class v extends o.ModalAction{constructor(){super(...arguments),(0,u.default)(this,"renderContent",(()=>{var e={value:this.item.value,mode:"json",options:{readOnly:!0}};return s.default.createElement(f.default,e)})),(0,u.default)(this,"onSubmit",null)}get id(){return"view"}get name(){return t("View")}get instanceName(){return this.item.key}static allowed(){return l.default.resolve(!0)}get defaultValue(){var{key:e}=this.item;return{key:e}}get labelCol(){return{xs:{span:4},sm:{span:4}}}get wrapperCol(){return{xs:{span:20},sm:{span:20}}}get formItems(){return[{name:"key",type:"label",label:t("Name")},{name:"value",type:"other",label:t("Value"),content:this.renderContent()}]}}a.View=v,(0,u.default)(v,"title",t("View Detail")),(0,u.default)(v,"readOnly",!0),(0,u.default)(v,"enableSystemReader",!0),(0,u.default)(v,"policy",c.onlyAdminCanReadPolicy);a.default=(0,d.inject)("rootStore")((0,d.observer)(v))},4545:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.Edit=void 0;var l=i(r(88)),u=i(r(414)),s=i(r(42)),o=i(r(0)),d=r(1625),c=i(r(1707)),f=i(r(1750)),v=r(485),p=r(1635);class m extends d.ModalAction{constructor(){super(...arguments),(0,s.default)(this,"onChange",(e=>{var t={};try{t=JSON.parse(e)}catch(e){t=this.item.value}this.setState({value:t,inputValue:e})})),(0,s.default)(this,"renderContent",(()=>{var e={value:this.item.value,mode:"json",onChange:this.onChange};return o.default.createElement(f.default,e)})),(0,s.default)(this,"checkKeyValues",(()=>{var{inputValue:e}=this.state;try{return JSON.parse(e),!0}catch(e){return!1}})),(0,s.default)(this,"onSubmit",(()=>{var{key:e}=this.item,{value:t}=this.state,a={key:e,value:t};return c.default.update(a)}))}get id(){return"edit"}get instanceName(){return this.item.key}static allowed(){return l.default.resolve(!0)}init(){this.state.value=this.item.value,this.state.inputValue=(0,u.default)(this.item.value)}get defaultValue(){var{key:e}=this.item;return{key:e}}get labelCol(){return{xs:{span:4},sm:{span:4}}}get wrapperCol(){return{xs:{span:20},sm:{span:20}}}get formItems(){return[{name:"key",type:"label",label:t("Name")},{name:"value",type:"other",label:t("Value"),content:this.renderContent(),validator:()=>this.checkKeyValues()?l.default.resolve():l.default.reject(t("Please enter JSON in the correct format!"))}]}}a.Edit=m,(0,s.default)(m,"policy",p.onlyAdminCanChangePolicy);a.default=(0,v.inject)("rootStore")((0,v.observer)(m))},4546:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=void 0;var l=i(r(42)),u=r(1625),s=i(r(1707)),o=r(1635);class d extends u.ConfirmAction{constructor(){super(...arguments),(0,l.default)(this,"getItemName",(e=>e.key)),(0,l.default)(this,"policy",o.onlyAdminCanChangePolicy),(0,l.default)(this,"onSubmit",(e=>{var{key:t}=e||this.item;return s.default.delete({id:t})}))}get id(){return"reset"}get title(){return t("Reset To Initial Value")}get buttonType(){return"primary"}get isDanger(){return!0}get actionName(){return t("Reset To Initial Value")}}a.default=d},4547:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.KeypairDetail=void 0;var l=r(485),u=r(1784),s=i(r(1627)),o=r(1674),d=i(r(4548)),c=i(r(4549)),f=i(r(4553)),v=i(r(2028));class p extends s.default{get name(){return t("neutron agent")}get policy(){return"get_agent"}get listUrl(){return this.getRoutePath("systemInfo",null,{tab:"neutronAgent"})}get actionConfigs(){return v.default}get detailInfos(){return[{title:t("Type"),dataIndex:"agent_type"},{title:t("Service Status"),dataIndex:"admin_state_up",render:e=>(0,o.getNeutronAgentServiceStatus)(e)||"-"},{title:t("Service State"),dataIndex:"alive",render:e=>(0,o.getNeutronAgentServiceState)(e)||"-"},{title:t("Host"),dataIndex:"host"},{title:t("Availability Zone"),dataIndex:"availability_zone"},{title:t("Created At"),dataIndex:"created_at"},{title:t("Description"),dataIndex:"description"}]}get tabs(){var e=[{title:t("Detail"),key:"detail",component:d.default}];return"L3 agent"===this.detailData.agent_type?e.push({title:t("Routers"),key:"router",component:c.default}):"DHCP agent"===this.detailData.agent_type&&e.push({title:t("Networks"),key:"network",component:f.default}),e}init(){this.store=new u.NeutronAgentStore}}a.KeypairDetail=p;a.default=(0,l.inject)("rootStore")((0,l.observer)(p))},4548:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.BaseDetail=void 0;var l=i(r(414)),u=i(r(0)),s=r(485),o=i(r(1633));class d extends o.default{get leftCards(){return[this.baseCard]}get rightCards(){return[this.configCard]}get baseCard(){var e=[{label:t("Name"),dataIndex:"binary"},{label:t("Topic"),dataIndex:"topic"},{label:t("Resources Synced"),dataIndex:"resources_synced"},{label:t("Heartbeat Timestamp"),dataIndex:"heartbeat_timestamp",valueRender:"toLocalTime"},{label:t("Started At"),dataIndex:"started_at"}];return{title:t("Base Info"),options:e}}get configCard(){var{configurations:e="{}"}=this.detailData||{},a=[{label:"",content:u.default.createElement("div",null,u.default.createElement("pre",null,(0,l.default)(e,null,4)))}];return{labelCol:0,title:t("Configuration"),options:a}}}a.BaseDetail=d;a.default=(0,s.inject)("rootStore")((0,s.observer)(d))},4549:function(e,a,r){"use strict";var n=r(43),i=r(54),l=r(39),u=r(29),s=r(33),o=r(55),d=r(56),c=r(20),f=r(22);c(a,"__esModule",{value:!0}),a.default=a.Router=void 0;var v=f(r(72)),p=f(r(42)),m=r(485),g=f(r(1626)),h=r(1651),b=r(1850),y=f(r(4550)),_=["id"];function S(e,t){var a=n(e);if(i){var r=i(e);t&&(r=l(r).call(r,(function(t){return u(e,t).enumerable}))),a.push.apply(a,r)}return a}class x extends g.default{constructor(){super(...arguments),(0,p.default)(this,"getColumns",(()=>(0,h.getRouterColumns)(this))),(0,p.default)(this,"updateFetchParams",(e=>{var{id:t}=e;return function(e){for(var t=1;t<arguments.length;t++){var a,r,n=null!=arguments[t]?arguments[t]:{};t%2?s(a=S(Object(n),!0)).call(a,(function(t){(0,p.default)(e,t,n[t])})):o?d(e,o(n)):s(r=S(Object(n))).call(r,(function(t){c(e,t,u(n,t))}))}return e}({agentId:t},(0,v.default)(e,_))}))}init(){this.store=new b.NeutronAgentRouterStore}get policy(){return"get_l3-routers"}get name(){return t("routers")}get actionConfigs(){return y.default}get isFilterByBackend(){return!1}get searchFilters(){return h.routerFilters}get adminPageHasProjectFilter(){return!0}}a.Router=x;a.default=(0,m.inject)("rootStore")((0,m.observer)(x))},4550:function(e,t,a){"use strict";var r=a(20),n=a(22);r(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(4551)),l=n(a(4552)),u={rowActions:{firstAction:l.default,moreActions:[]},primaryActions:[i.default],batchActions:[l.default]};t.default=u},4551:function(e,a,r){"use strict";var n=r(43),i=r(54),l=r(39),u=r(29),s=r(33),o=r(55),d=r(56),c=r(20),f=r(22);c(a,"__esModule",{value:!0}),a.default=a.AddRouter=void 0;var v=f(r(124)),p=f(r(71)),m=f(r(1636)),g=f(r(88)),h=f(r(61)),b=f(r(42)),y=r(485),_=r(720),S=f(r(1850)),x=r(1625),I=r(1651),w=r(492);function C(e,t){var a=n(e);if(i){var r=i(e);t&&(r=l(r).call(r,(function(t){return u(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a,r,n=null!=arguments[t]?arguments[t]:{};t%2?s(a=C(Object(n),!0)).call(a,(function(t){(0,b.default)(e,t,n[t])})):o?d(e,o(n)):s(r=C(Object(n))).call(r,(function(t){c(e,t,u(n,t))}))}return e}class A extends x.ModalAction{constructor(){super(...arguments),(0,b.default)(this,"disabledFunc",(e=>{var t,{id:a}=e;return(0,v.default)(t=this.l3Routes).call(t,a)>=0})),(0,b.default)(this,"onSubmit",(e=>{var{router:{selectedRowKeys:t=[]}={}}=e,a=(0,p.default)(t).call(t,(e=>({router_id:e}))),{agentId:r}=this;return this.store.add({agentId:r},a)}))}init(){this.store=S.default,this.routerStore=new _.RouterStore,this.getL3Routes()}static get modalSize(){return"large"}getModalSize(){return"large"}get name(){return t("add router")}get instanceName(){var{router:{selectedRows:e=[]}={}}=(0,m.default)(this);return(0,p.default)(e).call(e,(e=>e.name)).join(", ")}get detail(){var{detail:e={}}=this.containerProps;return e}get agentId(){return this.detail.id}getL3Routes(){var e=this;return(0,h.default)((function*(){var{agentId:t}=e;t&&(yield e.store.fetchList({agentId:t,all_projects:!0}),e.updateDefaultValue())}))()}get l3Routes(){var e;return(0,p.default)(e=this.store.list.data||[]).call(e,(e=>e.id))}get defaultValue(){var{binary:e}=this.detail;return{binary:e}}getColumns(){var e=(0,I.getRouterColumns)(this);return e[0].render=null,e[1].render=w.projectRender,e}getFilters(){return[...I.routerFilters,{label:t("Project ID"),name:"project_id"}]}get formItems(){return[{name:"binary",label:t("Name"),type:"label",iconType:"host"},N({name:"router",label:t("Router"),type:"select-table",backendPageStore:this.routerStore,disabledFunc:this.disabledFunc,extraParams:{all_projects:!0},required:!0,isMulti:!0,filterParams:this.getFilters(),columns:this.getColumns()},I.routerSortProps)]}}a.AddRouter=A,(0,b.default)(A,"id","add-router"),(0,b.default)(A,"title",t("Add Router")),(0,b.default)(A,"policy","create_l3-router"),(0,b.default)(A,"allowed",(()=>g.default.resolve(!0)));a.default=(0,y.inject)("rootStore")((0,y.observer)(A))},4552:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=void 0;var l=i(r(42)),u=r(1625),s=i(r(1850));class o extends u.ConfirmAction{constructor(){super(...arguments),(0,l.default)(this,"policy","delete_l3-router"),(0,l.default)(this,"onSubmit",(e=>{var{id:t,agentId:a}=e;return s.default.remove({id:t,agentId:a})}))}get id(){return"remove"}get title(){return t("Remove Router")}get isDanger(){return!0}get buttonText(){return t("Remove")}get actionName(){return t("remove router")}}a.default=o},4553:function(e,a,r){"use strict";var n=r(43),i=r(54),l=r(39),u=r(29),s=r(33),o=r(55),d=r(56),c=r(20),f=r(22);c(a,"__esModule",{value:!0}),a.default=a.Networks=void 0;var v=f(r(72)),p=f(r(715)),m=f(r(42)),g=r(485),h=f(r(1626)),b=r(717),y=r(1851),_=r(412),S=f(r(4554)),x=["id"];function I(e,t){var a=n(e);if(i){var r=i(e);t&&(r=l(r).call(r,(function(t){return u(e,t).enumerable}))),a.push.apply(a,r)}return a}class w extends h.default{constructor(){super(...arguments),(0,m.default)(this,"getColumns",(()=>{var e=(0,b.networkColumns)(this);return(0,p.default)(e).call(e,1,0,{title:t("Project ID/Name"),dataIndex:"project_name",isHideable:!0}),e})),(0,m.default)(this,"updateFetchParams",(e=>{var{id:t}=e;return function(e){for(var t=1;t<arguments.length;t++){var a,r,n=null!=arguments[t]?arguments[t]:{};t%2?s(a=I(Object(n),!0)).call(a,(function(t){(0,m.default)(e,t,n[t])})):o?d(e,o(n)):s(r=I(Object(n))).call(r,(function(t){c(e,t,u(n,t))}))}return e}({agentId:t},(0,v.default)(e,x))}))}init(){this.store=new y.NeutronAgentNetworkStore}get policy(){return"get_dhcp-networks"}get name(){return t("networks")}get actionConfigs(){return S.default}get adminPageHasProjectFilter(){return!0}get searchFilters(){return[{label:t("Name"),name:"name"},{label:t("Shared"),name:"shared",options:_.yesNoOptions},{label:t("External"),name:"router:external",options:_.yesNoOptions}]}}a.Networks=w;a.default=(0,g.inject)("rootStore")((0,g.observer)(w))},4554:function(e,t,a){"use strict";var r=a(20),n=a(22);r(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(4555)),l=n(a(4556)),u={rowActions:{firstAction:l.default,moreActions:[]},primaryActions:[i.default],batchActions:[l.default]};t.default=u},4555:function(e,a,r){"use strict";var n=r(43),i=r(54),l=r(39),u=r(29),s=r(33),o=r(55),d=r(56),c=r(20),f=r(22);c(a,"__esModule",{value:!0}),a.default=a.AddNetwork=void 0;var v=f(r(203)),p=f(r(715)),m=f(r(71)),g=f(r(1636)),h=f(r(88)),b=f(r(61)),y=f(r(42)),_=r(485),S=r(290),x=f(r(1851)),I=r(1625),w=r(717),C=r(412),N=r(492);function A(e,t){var a=n(e);if(i){var r=i(e);t&&(r=l(r).call(r,(function(t){return u(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a,r,n=null!=arguments[t]?arguments[t]:{};t%2?s(a=A(Object(n),!0)).call(a,(function(t){(0,y.default)(e,t,n[t])})):o?d(e,o(n)):s(r=A(Object(n))).call(r,(function(t){c(e,t,u(n,t))}))}return e}class M extends I.ModalAction{constructor(){super(...arguments),(0,y.default)(this,"disabledFunc",(e=>{var t,{id:a}=e;return(0,v.default)(t=this.dhcpNetworks).call(t,a)})),(0,y.default)(this,"getColumns",(()=>{var e=(0,w.networkColumns)(this);return(0,p.default)(e).call(e,1,0,{title:t("Project ID/Name"),dataIndex:"project_name",render:N.projectRender,sortKey:"project_id"}),e})),(0,y.default)(this,"onSubmit",(e=>{var{network:{selectedRowKeys:t=[]}={}}=e,a=(0,m.default)(t).call(t,(e=>({network_id:e}))),{agentId:r}=this;return this.store.add({agentId:r},a)}))}init(){this.store=x.default,this.networkStore=new S.NetworkStore,this.getDhcpNetworks()}static get modalSize(){return"large"}getModalSize(){return"large"}get name(){return t("add network")}get instanceName(){var{network:{selectedRows:e=[]}={}}=(0,g.default)(this);return(0,m.default)(e).call(e,(e=>e.name)).join(", ")}get detail(){var{detail:e={}}=this.containerProps;return e}get agentId(){return this.detail.id}getDhcpNetworks(){var e=this;return(0,b.default)((function*(){var{agentId:t}=e;t&&(yield e.store.fetchList({agentId:t,all_projects:!0}),e.updateDefaultValue())}))()}get dhcpNetworks(){var e;return(0,m.default)(e=this.store.list.data||[]).call(e,(e=>e.id))}get defaultValue(){var{binary:e}=this.detail;return{binary:e}}getSearchFilters(){return[{label:t("Name"),name:"name"},{label:t("Shared"),name:"shared",options:C.yesNoOptions},{label:t("External"),name:"router:external",options:C.yesNoOptions},{label:t("Project ID"),name:"project_id"}]}get formItems(){return[{name:"binary",label:t("Name"),type:"label",iconType:"host"},k({name:"network",label:t("Network"),type:"select-table",backendPageStore:this.networkStore,disabledFunc:this.disabledFunc,extraParams:{all_projects:!0},required:!0,isMulti:!0,filterParams:this.getSearchFilters(),columns:this.getColumns()},w.networkSortProps)]}}a.AddNetwork=M,(0,y.default)(M,"id","add-network"),(0,y.default)(M,"title",t("Add Network")),(0,y.default)(M,"policy","create_dhcp-network"),(0,y.default)(M,"allowed",(()=>h.default.resolve(!0)));a.default=(0,_.inject)("rootStore")((0,_.observer)(M))},4556:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=void 0;var l=i(r(42)),u=r(1625),s=i(r(1851));class o extends u.ConfirmAction{constructor(){super(...arguments),(0,l.default)(this,"policy","delete_dhcp-network"),(0,l.default)(this,"onSubmit",(e=>{var{id:t,agentId:a}=e;return s.default.remove({id:t,agentId:a})}))}get id(){return"remove"}get title(){return t("Remove Network")}get isDanger(){return!0}get buttonText(){return t("Remove")}get actionName(){return t("remove network")}}a.default=o},4557:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.Metadata=void 0;var l=i(r(71)),u=i(r(42)),s=i(r(0)),o=r(485),d=r(262),c=i(r(1626)),f=i(r(1676)),v=i(r(2029));class p extends c.default{constructor(){super(...arguments),(0,u.default)(this,"getColumns",(()=>[{title:t("Name"),dataIndex:"display_name",render:(e,t)=>e?s.default.createElement(d.Link,{to:"/configuration-admin/metadata/detail/".concat(t.namespace)},e):"-"},{title:t("Description"),dataIndex:"description",isHideable:!0,width:350},{title:t("Resource Types"),dataIndex:"resource_type_associations",isHideable:!0,render:e=>e?(0,l.default)(e).call(e,(e=>s.default.createElement("div",{key:e.name},e.name))):"-",stringify:e=>e?(0,l.default)(e).call(e,(e=>e.name)).join(";"):"-"},{title:t("Public"),dataIndex:"public",valueRender:"yesNo",isHideable:!0},{title:t("Protected"),dataIndex:"protected",valueRender:"yesNo",isHideable:!0}]))}init(){this.store=f.default}get policy(){return"get_metadef_namespaces"}get name(){return t("metadata")}get actionConfigs(){return v.default}}a.Metadata=p;a.default=(0,o.inject)("rootStore")((0,o.observer)(p))},4558:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.Create=void 0;var l=i(r(88)),u=i(r(42)),s=r(485),o=i(r(1676)),d=r(1625),c=r(707);class f extends d.ModalAction{constructor(){super(...arguments),(0,u.default)(this,"onSubmit",(e=>{var{metadata:t,options:a={}}=e,r={};try{r=JSON.parse(t)}catch(e){}r||(r={});var{isPublic:n=!1,isProtected:i=!1}=a;return r.protected=i||!1,r.visibility=!0===n?"public":"private",this.store.create(r)}))}init(){this.store=o.default}get name(){return t("Import metadata")}get formItems(){return[{name:"metadata",label:t("Metadata"),type:"textarea-from-file",placeholder:t("Please input metadata"),required:!0,rows:6,validator:c.jsonValidator},{name:"options",label:t("Options"),type:"check-group",options:[{label:t("Public"),value:"isPublic"},{label:t("Protected"),value:"isProtected"}]}]}}a.Create=f,(0,u.default)(f,"id","create"),(0,u.default)(f,"title",t("Import Metadata")),(0,u.default)(f,"policy","add_metadef_namespace"),(0,u.default)(f,"allowed",(()=>l.default.resolve(!0)));a.default=(0,s.inject)("rootStore")((0,s.observer)(f))},4559:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=void 0;var l=i(r(42)),u=r(1625),s=i(r(1676));class o extends u.ConfirmAction{constructor(){super(...arguments),(0,l.default)(this,"policy","delete_metadef_namespace"),(0,l.default)(this,"allowedCheckFunc",(e=>!e.protected)),(0,l.default)(this,"onSubmit",(e=>{var{namespace:t}=e;return s.default.delete({id:t})}))}get id(){return"delete"}get title(){return t("Delete Metadata")}get isDanger(){return!0}get buttonText(){return t("Delete")}get actionName(){return t("Delete metadata")}}a.default=o},4560:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.Edit=void 0;var l=i(r(88)),u=i(r(42)),s=r(485),o=i(r(1676)),d=r(1625);class c extends d.ModalAction{constructor(){super(...arguments),(0,u.default)(this,"onSubmit",(e=>{var{display_name:t,description:a}=this.item,{namespace:r,options:n}=e,{isPublic:i,isProtected:l}=n,u={display_name:t,description:a,namespace:r,protected:l,visibility:!0===i?"public":"private"};return o.default.edit({id:r},u)}))}init(){this.store=o.default}get name(){return t("Edit metadata")}get instanceName(){return this.item.display_name}get defaultValue(){var{namespace:e,protected:t,visibility:a}=this.item;return{namespace:e,options:{isProtected:t,isPublic:"public"===a}}}get formItems(){return[{name:"namespace",label:t("Namespace"),iconType:"metadata",type:"label"},{name:"options",label:t("Options"),type:"check-group",options:[{label:t("Public"),value:"isPublic"},{label:t("Protected"),value:"isProtected"}]}]}}a.Edit=c,(0,u.default)(c,"id","edit"),(0,u.default)(c,"title",t("Edit Metadata")),(0,u.default)(c,"buttonText",t("Edit")),(0,u.default)(c,"policy","modify_metadef_namespace"),(0,u.default)(c,"allowed",(()=>l.default.resolve(!0)));a.default=(0,s.inject)("rootStore")((0,s.observer)(c))},4561:function(e,a,r){"use strict";var n=r(43),i=r(54),l=r(39),u=r(29),s=r(33),o=r(55),d=r(56),c=r(20),f=r(22);c(a,"__esModule",{value:!0}),a.default=a.Manage=void 0;var v=f(r(33)),p=f(r(71)),m=f(r(88));r(489);var g=f(r(711)),h=f(r(42)),b=f(r(0)),y=r(485),_=r(41),S=r(1676),x=r(1625);r(200);function I(e,t){var a=n(e);if(i){var r=i(e);t&&(r=l(r).call(r,(function(t){return u(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a,r,n=null!=arguments[t]?arguments[t]:{};t%2?s(a=I(Object(n),!0)).call(a,(function(t){(0,h.default)(e,t,n[t])})):o?d(e,o(n)):s(r=I(Object(n))).call(r,(function(t){c(e,t,u(n,t))}))}return e}class C extends x.ModalAction{constructor(){super(...arguments),(0,h.default)(this,"updatePrefix",((e,t)=>{var{name:a}=t;t.prefix=e;var r=(0,_.toJS)(this.store.resourceTypes);(0,v.default)(r).call(r,(t=>{t.name===a&&(t.prefix=e)})),this.store.resourceTypes=r})),(0,h.default)(this,"renderInput",((e,a)=>{var r=t("Please input prefix");return b.default.createElement(g.default,{placeholder:r,value:e,onChange:e=>{this.updatePrefix(e.currentTarget.value,a)},onClick:e=>{e&&e.stopPropagation()}})})),(0,h.default)(this,"onSubmit",(e=>{var t,{associations:a={}}=e,{selectedRowKeys:r=[]}=a,{resource_type_associations:n=[],namespace:i}=this.item,l={},u={},s={},o=[],d=[];(0,v.default)(t=this.resourceTypes).call(t,(e=>{e.prefix=e.prefix||"",l[e.name]=e}));var c=(0,p.default)(r).call(r,(e=>(u[e]=l[e],{name:e,prefix:l[e].prefix||""})));return(0,v.default)(n).call(n,(e=>{s[e.name]=e,u[e.name]?u[e.name].prefix!==e.prefix&&o.push(e):o.push(e)})),(0,v.default)(c).call(c,(e=>{s[e.name]?s[e.name].prefix!==e.prefix&&d.push(e):d.push(e)})),0===d.length&&0===o.length?m.default.resolve():this.store.manageResourceTypes(i,o,d)}))}init(){this.store=new S.MetadataStore,this.getResourceTypes()}get name(){return t("manage resource types")}static get modalSize(){return"large"}getModalSize(){return"large"}getResourceTypes(){this.store.fetchResourceTypes(this.item)}get resourceTypes(){var e;return(0,p.default)(e=this.store.resourceTypes||[]).call(e,(e=>w(w({},e),{},{id:e.name})))}get defaultValue(){var{namespace:e,resource_type_associations:t=[]}=this.item;return{namespace:e,associations:{selectedRowKeys:(0,p.default)(t).call(t,(e=>e.name))}}}get formItems(){return[{name:"namespace",label:t("Namespace"),iconType:"metadata",type:"label"},{name:"associations",label:t("Resource Types"),type:"select-table",data:this.resourceTypes,isLoading:this.store.resourceTypeLoading,isMulti:!0,filterParams:[{label:t("Name"),name:"name"}],columns:[{title:t("Name"),dataIndex:"name"},{title:t("Prefix"),dataIndex:"prefix",render:(e,t)=>this.renderInput(e,t)}]}]}}a.Manage=C,(0,h.default)(C,"id","manage"),(0,h.default)(C,"title",t("Manage Resource Types")),(0,h.default)(C,"policy",["list_metadef_resource_types","add_metadef_resource_type_association","remove_metadef_resource_type_association"]),(0,h.default)(C,"allowed",(e=>m.default.resolve(!e.protected)));a.default=(0,y.inject)("rootStore")((0,y.observer)(C))},4562:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.MetadataDetail=void 0;var l=r(485),u=r(1676),s=i(r(1627)),o=i(r(4563)),d=i(r(2029));class c extends s.default{get name(){return t("metadata")}get policy(){return"get_metadef_namespace"}get listUrl(){return this.getRoutePath("metadata")}get actionConfigs(){return d.default}get detailInfos(){return[{title:t("Name"),dataIndex:"display_name"},{title:t("Created At"),dataIndex:"created_at",valueRender:"toLocalTime"},{title:t("Updated At"),dataIndex:"updated_at",valueRender:"toLocalTime"}]}get tabs(){return[{title:t("Detail"),key:"detail",component:o.default}]}init(){this.store=new u.MetadataStore}}a.MetadataDetail=c;a.default=(0,l.inject)("rootStore")((0,l.observer)(c))},4563:function(e,a,r){"use strict";var n=r(20),i=r(22);n(a,"__esModule",{value:!0}),a.default=a.BaseDetail=void 0;var l=i(r(71)),u=i(r(93)),s=i(r(414)),o=i(r(0)),d=r(485),c=i(r(1633)),f=i(r(4564));class v extends c.default{get leftCards(){return[this.baseInfoCard,this.resourceCard]}get rightCards(){return[this.jsonCard]}get baseInfoCard(){var e=[{label:t("Namespace"),dataIndex:"namespace"},{label:t("Description"),dataIndex:"description"}];return{title:t("Base Info"),options:e}}get resourceCard(){var{resource_type_associations:e=[]}=this.detailData||{},a=(0,l.default)(e).call(e,(e=>{var a,{name:r,prefix:n}=e;return{label:r,content:(0,u.default)(a="".concat(t("Prefix"),": ")).call(a,n||"-")}}));return{title:t("Associated Resource Types"),options:a}}get jsonCard(){var e=[{label:"",content:o.default.createElement("pre",{className:f.default["json-data"]},(0,s.default)(this.detailData,null,4))}];return{labelCol:0,title:t("Content"),options:e}}}a.BaseDetail=v;a.default=(0,d.inject)("rootStore")((0,d.observer)(v))},4564:function(e,t,a){var r=a(4565);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:undefined,insertInto:void 0};a(65)(r,n);r.locals&&(e.exports=r.locals)},4565:function(e,t,a){(t=e.exports=a(64)(!1)).push([e.i,".styles__json-data--euQUb {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n",""]),t.locals={"json-data":"styles__json-data--euQUb"}}}]);